{{>header}}

<div id="content">
  <div id="documentation">
    <h2 class="intro">Creating &amp; Reading Secrets</h2>
    
    <ul id="docnav">
      <li class=""><a href="/docs/api" title="">Overview</a></li>
      <li class="selected"><a href="/docs/api/secrets" title="">Secrets</a></li>
    </ul>

    <div id="topicContent">
      
      <h3 class="cufon docTitle dotted">Share a Secret</h3>
      <span class="docSubtext">POST {{baseuri}}/api/v1/share</span>

      <p>
        
      </p>
      
      <div class="options">
        <strong>Query Params</strong>
        <ul>
          <li><span class="name">secret</span>: the secret value which is encrypted before being stored. There is a maximum length based on your plan that is enforced (1k-10k).</li>
          <li><span class="name">passphrase</span>: a string that the recipient must know to view the secret. This value is also used to encrypt the secret and is bcrypted before being stored so we only have this value in transit.</li>
          <li><span class="name">ttl</span>: the maximum amount of time, in seconds, that the secret should survive (i.e. time-to-live). Once this time expires, the secret will be deleted and not recoverable.</li>
          <li><span class="name">recipient</span>: an email address. We will send a friendly email containing the secret link (NOT the secret itself).</li>
        </ul>
      </div>
      
      <div class="options">
        <strong>Attributes</strong>
        <ul>
          <li><span class="name">custid</span>: this is you :]</li>
          <li><span class="name">key</span>: </li>
          <li><span class="name">secret_key</span>: this is you :]</li>
          <li><span class="name">custid</span>: this is you :]</li>
          <li><span class="name">custid</span>: this is you :]</li>
        </ul>
      </div>
      
      <strong>Example:</strong>
      
      <pre class="colourize">$ curl -u 'USERNAME:APITOKEN' -F 'secret=[SECRET]' {{baseuri}}/api/v1/share</pre>
      <pre class="colourize">{
  "custid":"USERNAME",
  "key":"qjpjroeit8wra0ojeyhcw5pjsgwtuq7",
  "secret_key":"153l8vbwqx5taskp92pf05uvgjefvu9",
  "ttl":"3600",
  "updated":"1324174006",
  "created":"1324174006"
}</pre>
      
      <h3 class="cufon docTitle dotted">Generate a Secret</h3>
      <span class="docSubtext">POST {{baseuri}}/api/v1/generate</span>
      
      <p>Current status of the system.</p>
      
      <div class="options">
        <strong>Query Params</strong>
        <ul>
          <li><span class="name">passphrase</span>: a string that the recipient must know to view the secret. This value is also used to encrypt the secret and is bcrypted before being stored so we only have this value in transit.</li>
          <li><span class="name">ttl</span>: the maximum amount of time, in seconds, that the secret should survive (i.e. time-to-live). Once this time expires, the secret will be deleted and not recoverable.</li>
          <li><span class="name">recipient</span>: an email address. We will send a friendly email containing the secret link (NOT the secret itself).</li>
        </ul>
      </div>

      <pre class="colourize">$ curl -u 'USERNAME:APITOKEN' -d '' {{baseuri}}/api/v1/generate</pre>

      <pre class="colourize">{
  "custid":"USERNAME",
  "key":"2b6bjmudhmtiqjn2qmdaqjkqxp323gi",
  "secret_key":"pgcdv7org3vtdurif809sygnt0mstw6",
  "ttl":"3600",
  "updated":"1324174095",
  "created":"1324174095"
}</pre>

      <p></p>

      <div class="options">
        <strong>Attributes</strong>
        <ul>
          <li><span class="name">status</span>: The current system status. One of: nominal, offline.</li>
        </ul>
      </div>


      <p></p>

      <br/><br/><br/>
    </div>
  </div>
</div>

{{>footer}}
